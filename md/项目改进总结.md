# ä»£ç å¹´åº¦æŠ¥å‘Šé¡¹ç›® - äº¤äº’å¼æ»šåŠ¨åŠŸèƒ½å®ç°æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°ä¸ºä»£ç å¹´åº¦æŠ¥å‘Šé¡¹ç›®æ·»åŠ äº†**äº¤äº’å¼æ»šåŠ¨å±•ç¤º**åŠŸèƒ½,å®ç°äº†æŒ‡æ ‡é€ä¸ªæ»šåŠ¨å±•ç¤ºçš„ç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€‚

## ğŸ¯ æ ¸å¿ƒéœ€æ±‚

ç”¨æˆ·æå‡ºçš„éœ€æ±‚:
> "ä¸ªäººæŠ¥å‘Šè¿›å…¥æ—¶ä¸€ä¸ªæŒ‡æ ‡ä¸€ä¸ªæŒ‡æ ‡é€ä¸ªæ»šåŠ¨å±•ç¤º,æ”¯æŒä¸Šä¸‹æ»‘åŠ¨,å½“éƒ½æ»‘å®Œäº†å†æœ€åå±•ç¤ºæ•´ä¸ªå†…å®¹ã€‚"

## âœ¨ å®ç°æ–¹æ¡ˆ

### 1. è®¾è®¡æ€è·¯

#### æ ¸å¿ƒæ¦‚å¿µ
- **ç« èŠ‚åŒ–å±•ç¤º**: å°†æ¯ä¸ªæŒ‡æ ‡ç‹¬ç«‹æˆä¸€ä¸ªç« èŠ‚
- **å…¨å±æ»šåŠ¨**: ä½¿ç”¨CSS Scroll Snapå®ç°æ•´é¡µæ»šåŠ¨
- **æ¸è¿›åŠ¨ç”»**: æ•°å­—ã€å¡ç‰‡ä¾æ¬¡å±•ç¤º,å¢å¼ºè§†è§‰ä½“éªŒ
- **å¤šç§äº¤äº’**: æ”¯æŒé¼ æ ‡ã€é”®ç›˜ã€è¿›åº¦æŒ‡ç¤ºå™¨ç­‰å¤šç§å¯¼èˆªæ–¹å¼

#### æŠ€æœ¯é€‰å‹
- **CSS Scroll Snap**: å®ç°ç« èŠ‚è‡ªåŠ¨å¯¹é½
- **Intersection Observer**: æ£€æµ‹ç« èŠ‚å¯è§æ€§è§¦å‘åŠ¨ç”»
- **requestAnimationFrame**: å®ç°æµç•…çš„æ•°å­—æ»šåŠ¨
- **ç¼“åŠ¨å‡½æ•°**: ä½¿ç”¨ `easeOutQuart` ä½¿åŠ¨ç”»æ›´è‡ªç„¶

### 2. æ–‡ä»¶ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ report.html                 # é»˜è®¤æ¨¡æ¿ (å·²å­˜åœ¨)
â”‚   â”œâ”€â”€ report_interactive.html     # äº¤äº’å¼æ¨¡æ¿ (æ–°å¢) â­
â”‚   â””â”€â”€ report_story.html           # æ•…äº‹æ¨¡æ¿ (å·²å­˜åœ¨)
â”‚
â”œâ”€â”€ src/
â”‚   â””â”€â”€ server.py                   # æœåŠ¡å™¨ä»£ç  (å·²ä¿®æ”¹) â­
â”‚
â”œâ”€â”€ md/
â”‚   â”œâ”€â”€ äº¤äº’å¼æŠ¥å‘Šä½¿ç”¨è¯´æ˜.md        # ä½¿ç”¨æ–‡æ¡£ (æ–°å¢) â­
â”‚   â””â”€â”€ å¿«é€Ÿæµ‹è¯•æŒ‡å—.md              # æµ‹è¯•æŒ‡å— (æ–°å¢) â­
â”‚
â””â”€â”€ reports/
    â””â”€â”€ *.json                      # æŠ¥å‘Šæ•°æ®
```

### 3. æ ¸å¿ƒåŠŸèƒ½

#### 3.1 ç« èŠ‚ç»“æ„
```
1. å°é¢ (intro)
   â†“ æ»šåŠ¨
2. æ€»æäº¤æ¬¡æ•° (commits) âš¡ æ•°å­—åŠ¨ç”»
   â†“ æ»šåŠ¨
3. å‡€å¢ä»£ç è¡Œ (lines) âš¡ æ•°å­—åŠ¨ç”»
   â†“ æ»šåŠ¨
4. å‚ä¸é¡¹ç›® (projects) âš¡ æ•°å­—åŠ¨ç”»
   â†“ æ»šåŠ¨
5. ä»£ç åˆ é™¤ (deletions) âš¡ æ•°å­—åŠ¨ç”»
   â†“ æ»šåŠ¨
6. AIå¹´åº¦æ€»ç»“ (story)
   â†“ æ»šåŠ¨
7. ç¼–ç¨‹è¯­è¨€ (languages) âš¡ æ ‡ç­¾åŠ¨ç”»
   â†“ æ»šåŠ¨
8. é¡¹ç›®è¯¦æƒ… (projects-detail) âš¡ å¡ç‰‡åŠ¨ç”»
   â†“ æ»šåŠ¨
9. æ€»ç»“ (summary)
```

#### 3.2 åŠ¨ç”»æ•ˆæœ

**æ•°å­—æ»šåŠ¨åŠ¨ç”»**
```javascript
// ä»0æ»šåŠ¨åˆ°ç›®æ ‡å€¼
function animateNumber(element, target, duration = 1500) {
    const easeOutQuart = 1 - Math.pow(1 - progress, 4);
    // ç¼“åŠ¨åŠ¨ç”»
}
```

**å»¶è¿ŸåŠ¨ç”»**
```javascript
// è¯­è¨€æ ‡ç­¾ä¾æ¬¡å¼¹å‡º
tags.forEach((tag, index) => {
    setTimeout(() => {
        tag.classList.add('animate');
    }, index * 100); // æ¯ä¸ªé—´éš”100ms
});
```

**é¡¹ç›®å¡ç‰‡æ»‘å…¥**
```javascript
// é¡¹ç›®å¡ç‰‡ä¾æ¬¡ä»ä¸‹å¾€ä¸Šæ»‘å…¥
cards.forEach((card, index) => {
    setTimeout(() => {
        card.classList.add('animate');
    }, index * 150); // æ¯ä¸ªé—´éš”150ms
});
```

#### 3.3 äº¤äº’åŠŸèƒ½

**é¼ æ ‡æ»šåŠ¨**
- ä½¿ç”¨æ»šè½®ä¸Šä¸‹æ»šåŠ¨
- è‡ªåŠ¨å¯¹é½åˆ°æœ€è¿‘çš„ç« èŠ‚

**é”®ç›˜å¯¼èˆª**
| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `â†“` æˆ– `PageDown` | ä¸‹ä¸€é¡µ |
| `â†‘` æˆ– `PageUp` | ä¸Šä¸€é¡µ |
| `Home` | è¿”å›é¦–é¡µ |
| `End` | è·³è½¬åˆ°æœ«é¡µ |

**è¿›åº¦æŒ‡ç¤ºå™¨**
- å·¦ä¾§å›ºå®šæ˜¾ç¤º
- ç‚¹å‡»å¿«é€Ÿè·³è½¬
- æ‚¬åœæ˜¾ç¤ºç« èŠ‚åç§°
- å½“å‰ç« èŠ‚é«˜äº®

### 4. æœåŠ¡å™¨æ”¹é€ 

#### 4.1 æ¨¡æ¿é€‰æ‹©å‚æ•°

ä¿®æ”¹ `server.py`,æ”¯æŒé€šè¿‡URLå‚æ•°é€‰æ‹©æ¨¡æ¿:

```python
def serve_author_report(self, author_id):
    """æä¾›ä¸ªäººæŠ¥å‘Šé¡µé¢ - æ”¯æŒå¤šç§æ¨¡æ¿"""
    # è§£ææŸ¥è¯¢å‚æ•°
    query_params = parse_qs(parsed_path.query)
    style = query_params.get('style', ['default'])[0]

    # æ ¹æ®styleå‚æ•°é€‰æ‹©æ¨¡æ¿
    template_map = {
        'default': 'report.html',
        'interactive': 'report_interactive.html',
        'story': 'report_story.html'
    }
    template_name = template_map.get(style, 'report.html')

    # æ¸²æŸ“æ¨¡æ¿
    html = self.render_report_html(report_data, template_name)
```

#### 4.2 URLæ ¼å¼

```
/report/<author_id>                    # é»˜è®¤æ¨¡æ¿
/report/<author_id>?style=default      # é»˜è®¤æ¨¡æ¿
/report/<author_id>?style=interactive  # äº¤äº’å¼æ¨¡æ¿ â­
/report/<author_id>?style=story        # æ•…äº‹æ¨¡æ¿
```

### 5. æ ·å¼è®¾è®¡

#### 5.1 æ¸å˜èƒŒæ™¯
æ¯ä¸ªç« èŠ‚ä½¿ç”¨ä¸åŒçš„æ¸å˜è‰²,è¥é€ å±‚æ¬¡æ„Ÿ:

```css
/* å°é¢ - ä¸»è‰²è°ƒ */
.intro-chapter {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
}

/* æŒ‡æ ‡ - æ·¡è‰²æ¸å˜ */
.metric-chapter {
    background: linear-gradient(180deg,
        rgba(102, 126, 234, 0.05),
        rgba(118, 75, 162, 0.05));
}

/* æ•…äº‹ - ä¸­é—´è‰²è°ƒ */
.story-chapter {
    background: linear-gradient(180deg,
        rgba(118, 75, 162, 0.1),
        rgba(240, 147, 251, 0.1));
}

/* æ€»ç»“ - å¼ºè°ƒè‰² */
.summary-chapter {
    background: linear-gradient(135deg,
        var(--secondary-color),
        var(--accent-color));
}
```

#### 5.2 å¡ç‰‡è®¾è®¡
- å¤§åœ†è§’ (`border-radius: 30px`)
- é¡¶éƒ¨å½©è‰²çº¿æ¡
- æ‚¬åœæ”¾å¤§æ•ˆæœ
- ç»ç’ƒæ‹Ÿæ€èƒŒæ™¯

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯
- è¿›åº¦æŒ‡ç¤ºå™¨æ˜¾ç¤ºåœ¨å·¦ä¾§
- å¤§å·å­—ä½“å’Œæ•°å­—
- æ°´å¹³å¸ƒå±€çš„ç½‘æ ¼

### ç§»åŠ¨ç«¯
- éšè—è¿›åº¦æŒ‡ç¤ºå™¨
- å­—ä½“å¤§å°è‡ªé€‚åº”
- å•åˆ—å¸ƒå±€
- è§¦æ‘¸ä¼˜åŒ–

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¯åŠ¨æœåŠ¡å™¨
```bash
python src/server.py
```

### è®¿é—®äº¤äº’å¼æŠ¥å‘Š
```
http://localhost:8000/report/Sonnet1219?style=interactive
```

### å¯¹æ¯”ä¸‰ç§æ¨¡æ¿
```
# é»˜è®¤ - ä¸€é¡µå±•ç¤ºæ‰€æœ‰å†…å®¹
http://localhost:8000/report/Sonnet1219

# äº¤äº’å¼ - é€é¡µæ»šåŠ¨ â­ æ–°åŠŸèƒ½
http://localhost:8000/report/Sonnet1219?style=interactive

# æ•…äº‹ - æ³¨é‡å™è¿°
http://localhost:8000/report/Sonnet1219?style=story
```

## ğŸ¨ è§†è§‰ç‰¹è‰²

1. **æ¸å˜è‰²ç³»**
   - æ¯ä¸ªç« èŠ‚ç‹¬ç‰¹çš„æ¸å˜èƒŒæ™¯
   - æ•°å­—ä½¿ç”¨æ¸å˜å¡«å……
   - ç»Ÿä¸€çš„è‰²è°ƒæ–¹æ¡ˆ

2. **åŠ¨ç”»ç»†èŠ‚**
   - å°é¢æ—‹è½¬å…‰æ™•
   - æ•°å­—æ»šåŠ¨è®¡æ•°
   - å…ƒç´ ä¾æ¬¡å‡ºç°
   - ç¼“åŠ¨æ›²çº¿è¿‡æ¸¡

3. **äº¤äº’åé¦ˆ**
   - æ‚¬åœæ”¾å¤§æ•ˆæœ
   - ç‚¹å‡»æ³¢çº¹æ•ˆæœ
   - è¿›åº¦æŒ‡ç¤ºå™¨é«˜äº®
   - å¹³æ»‘æ»šåŠ¨è¿‡æ¸¡

## ğŸ“Š æŠ€æœ¯äº®ç‚¹

### 1. CSS Scroll Snap
```css
.main-container {
    scroll-snap-type: y mandatory;
}

.chapter {
    scroll-snap-align: start;
    scroll-snap-stop: always;
}
```
å®ç°ç« èŠ‚è‡ªåŠ¨å¯¹é½,æ— éœ€å¤æ‚çš„JavaScriptè®¡ç®—ã€‚

### 2. Intersection Observer
```javascript
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            // è§¦å‘åŠ¨ç”»
        }
    });
}, { threshold: 0.5 });
```
æ€§èƒ½ä¼˜åŒ–,åªåœ¨å…ƒç´ è¿›å…¥è§†å£æ—¶è§¦å‘åŠ¨ç”»ã€‚

### 3. requestAnimationFrame
```javascript
function animateNumber() {
    // 60fpsæµç•…åŠ¨ç”»
    requestAnimationFrame(update);
}
```
åˆ©ç”¨æµè§ˆå™¨åˆ·æ–°ç‡,å®ç°æµç•…åŠ¨ç”»ã€‚

### 4. ç¼“åŠ¨å‡½æ•°
```javascript
const easeOutQuart = 1 - Math.pow(1 - progress, 4);
```
ä½¿åŠ¨ç”»æ›´è‡ªç„¶,ç¬¦åˆç‰©ç†è§„å¾‹ã€‚

## ğŸ”§ é…ç½®ä¸æ‰©å±•

### è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²
åœ¨æŠ¥å‘ŠJSONä¸­é…ç½®:
```json
{
  "theme": {
    "primary_color": "#667eea",
    "secondary_color": "#764ba2",
    "accent_color": "#f093fb"
  }
}
```

### æ·»åŠ æ–°æŒ‡æ ‡ç« èŠ‚
1. åœ¨ `report_interactive.html` ä¸­æ·»åŠ æ–°çš„ `<section>`
2. åœ¨ JavaScript ä¸­æ·»åŠ å¯¹åº”çš„åˆå§‹åŒ–é€»è¾‘
3. åœ¨ Intersection Observer ä¸­æ·»åŠ è§¦å‘æ¡ä»¶

### ä¿®æ”¹åŠ¨ç”»é€Ÿåº¦
```javascript
// æ•°å­—åŠ¨ç”»æ—¶é•¿
animateNumber(element, target, duration = 1500)

// CSSåŠ¨ç”»æ—¶é•¿
transition: opacity 0.8s ease, transform 0.8s ease;

// å»¶è¿Ÿé—´éš”
setTimeout(() => { ... }, index * 100);
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

1. **æ‡’åŠ è½½åŠ¨ç”»**: åªåœ¨å…ƒç´ è¿›å…¥è§†å£æ—¶è§¦å‘
2. **äº‹ä»¶èŠ‚æµ**: æ»šåŠ¨äº‹ä»¶ä½¿ç”¨requestAnimationFrameä¼˜åŒ–
3. **CSSç¡¬ä»¶åŠ é€Ÿ**: ä½¿ç”¨transformè§¦å‘GPUåŠ é€Ÿ
4. **ä¸€æ¬¡æ€§åŠ¨ç”»**: åŠ¨ç”»æ‰§è¡Œåä¸å†é‡å¤è§¦å‘

## ğŸ› å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

1. **æµè§ˆå™¨å…¼å®¹æ€§**
   - éœ€è¦æ”¯æŒ Intersection Observer API
   - éœ€è¦æ”¯æŒ CSS Scroll Snap
   - IEæµè§ˆå™¨ä¸æ”¯æŒ

2. **æ€§èƒ½è€ƒè™‘**
   - å¤§é‡é¡¹ç›®æ—¶å¯èƒ½å‡ºç°å¡é¡¿
   - å»ºè®®é¡¹ç›®æ•°é‡é™åˆ¶åœ¨50ä¸ªä»¥å†…

3. **ç§»åŠ¨ç«¯**
   - éƒ¨åˆ†åŠ¨ç”»åœ¨ç§»åŠ¨ç«¯å¯èƒ½ä¸æµç•…
   - å»ºè®®ä½¿ç”¨æ€§èƒ½è¾ƒå¥½çš„è®¾å¤‡

## ğŸ¯ æœªæ¥æ”¹è¿›æ–¹å‘

- [ ] æ·»åŠ è§†é¢‘èƒŒæ™¯æ”¯æŒ
- [ ] æ”¯æŒè‡ªå®šä¹‰ç« èŠ‚é¡ºåº
- [ ] æ·»åŠ æ›´å¤šåŠ¨ç”»æ•ˆæœé€‰é¡¹
- [ ] æ”¯æŒå¯¼å‡ºä¸ºPDF
- [ ] æ·»åŠ åˆ†äº«åŠŸèƒ½
- [ ] æ”¯æŒå¤šè¯­è¨€
- [ ] æ·»åŠ éŸ³ä¹æ’­æ”¾å™¨
- [ ] æ”¯æŒæš—è‰²/äº®è‰²ä¸»é¢˜åˆ‡æ¢

## ğŸ“ ç›¸å…³æ–‡æ¡£

- [äº¤äº’å¼æŠ¥å‘Šä½¿ç”¨è¯´æ˜](./äº¤äº’å¼æŠ¥å‘Šä½¿ç”¨è¯´æ˜.md) - è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
- [å¿«é€Ÿæµ‹è¯•æŒ‡å—](./å¿«é€Ÿæµ‹è¯•æŒ‡å—.md) - æµ‹è¯•æ­¥éª¤æ¸…å•

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…ä¿¡æ¯

**å¼€å‘æ—¶é—´**: 2025-12-28
**å¼€å‘å·¥å…·**: Claude Code
**æŠ€æœ¯æ ˆ**: HTML5, CSS3, JavaScript (Vanilla)
**æµè§ˆå™¨è¦æ±‚**: Chrome 80+, Firefox 75+, Safari 13+

---

**æ€»ç»“**: é€šè¿‡CSS Scroll Snapå’ŒIntersection Observerç­‰ç°ä»£WebæŠ€æœ¯,å®ç°äº†æµç•…çš„äº¤äº’å¼æ»šåŠ¨æŠ¥å‘Šã€‚ä»£ç ç»“æ„æ¸…æ™°,æ˜“äºç»´æŠ¤å’Œæ‰©å±•,ä¸ºç”¨æˆ·æä¾›äº†æ²‰æµ¸å¼çš„æ•°æ®å±•ç¤ºä½“éªŒã€‚
