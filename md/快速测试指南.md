# 交互式报告快速测试指南

## 启动服务器

在项目根目录执行:

```bash
python src/server.py
```

服务器将在 `http://localhost:8000` 启动。

## 访问交互式报告

### 方式1: 通过总览页面

1. 访问 `http://localhost:8000`
2. 在作者列表中找到你想要查看的报告
3. 点击报告链接(默认会使用 `default` 样式)
4. 在URL后添加 `?style=interactive` 参数

示例URL:
```
http://localhost:8000/report/Sonnet1219?style=interactive
```

### 方式2: 直接访问

直接在浏览器中输入完整的URL:

```
http://localhost:8000/report/你的用户名?style=interactive
```

### 方式3: 测试不同模板

同时测试三种模板,对比效果:

```
http://localhost:8000/report/Sonnet1219              # 默认模板
http://localhost:8000/report/Sonnet1219?style=default # 默认模板
http://localhost:8000/report/Sonnet1219?style=interactive # 交互式滚动
http://localhost:8000/report/Sonnet1219?style=story       # 故事模式
```

## 测试交互功能

### 1. 鼠标滚动
- 使用鼠标滚轮上下滚动
- 观察章节是否自动对齐(snap到最近的章节)

### 2. 键盘导航
- 按 `↓` 或 `PageDown` - 下一页
- 按 `↑` 或 `PageUp` - 上一页
- 按 `Home` - 返回首页
- 按 `End` - 跳转到最后一页

### 3. 进度指示器
- 观察左侧的进度点
- 点击进度点可以快速跳转到对应章节
- 鼠标悬停显示章节名称

### 4. 动画效果
- 数字滚动动画
- 卡片淡入效果
- 语言标签依次弹出
- 项目卡片依次出现

## 预期效果

### ✅ 正常工作的标志

1. **页面布局**
   - 每个章节占据一个完整屏幕
   - 滚动时自动对齐到章节边界
   - 进度指示器显示当前章节

2. **动画效果**
   - 进入指标章节时,数字从0开始滚动
   - 语言标签依次弹出,带有延迟
   - 项目卡片依次从下往上滑入

3. **响应式**
   - 在不同屏幕尺寸下正常显示
   - 移动端隐藏进度指示器
   - 字体大小自动调整

### ❌ 常见问题排查

**问题1: 页面无法滚动**
- 检查浏览器控制台是否有JavaScript错误
- 确认JSON数据加载成功

**问题2: 数字没有动画**
- 确认使用了 `style=interactive` 参数
- 检查 `IntersectionObserver` 是否被支持

**问题3: 章节不对齐**
- 检查CSS `scroll-snap` 是否被浏览器支持
- 尝试更新浏览器到最新版本

**问题4: 进度指示器不工作**
- 检查JavaScript是否正确加载
- 查看浏览器控制台错误信息

## 性能测试

### 测试大量数据
1. 选择一个提交数量较多的作者报告
2. 观察数字动画是否流畅
3. 检查项目卡片滚动是否卡顿

### 测试移动端
1. 使用手机浏览器访问
2. 测试触摸滚动
3. 检查响应式布局

## 自定义测试

### 修改主题颜色

编辑 `reports/用户名_年份.json`:

```json
{
  "theme": {
    "primary_color": "#ff6b6b",
    "secondary_color": "#4ecdc4",
    "accent_color": "#45b7d1"
  }
}
```

刷新页面查看效果。

### 修改动画速度

编辑 `templates/report_interactive.html`:

```javascript
// 加快动画速度
animateNumber(element, target, duration = 800)

// 减慢动画速度
animateNumber(element, target, duration = 2000)
```

## 截图对比

建议分别截图三种模板,对比展示效果:

1. **默认模板** (`report.html`)
   - 适合打印和快速浏览
   - 所有信息在一页展示

2. **交互式模板** (`report_interactive.html`) ⭐ 新增
   - 适合演示和沉浸式体验
   - 逐页展示,动画效果丰富

3. **故事模板** (`report_story.html`)
   - 适合叙述性展示
   - 注重阅读体验

## 反馈模板

测试后请记录:

- [ ] 页面加载速度: ★★★☆☆
- [ ] 滚动流畅度: ★★★☆☆
- [ ] 动画效果: ★★★☆☆
- [ ] 移动端体验: ★★★☆☆
- [ ] 整体满意度: ★★★☆☆

问题描述:
```
(在这里记录遇到的问题)
```

改进建议:
```
(在这里提出改进建议)
```

---

**下一步**: 根据测试结果优化性能和用户体验
