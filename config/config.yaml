# 代码年度报告生成器配置文件

# 管理员账号配置（用于访问管理界面）
admin:
  username: "admin"
  password: "admin"

# 并发配置
concurrency:
  # Git仓库扫描并发数（同时扫描多个仓库）
  repo_workers: 4  # 默认4，建议设置为CPU核心数
  # 单个仓库内部提交分析并发数（分析单个仓库的提交时使用）
  commit_workers: 8  # 默认8，单个仓库内的提交并发分析
  # LLM并发生成报告数（同时生成多个作者的报告）
  llm_workers: 3  # 默认3，根据LLM服务性能调整
  # 总体最大并发数（限制整体并发线程数，避免资源耗尽）
  max_workers: 20  # 默认16

# 分析配置（优化性能和避免卡顿）
analysis:
  # 单个项目的最大提交数限制（None表示不限制）
  # 对于提交特别多的项目，可以设置限制避免扫描时间过长
  max_commits_per_project: null  # 例如：10000 表示最多分析10000个提交

  # 是否跳过超大的diff（避免解析大文件导致卡顿）
  skip_large_diffs: true  # 默认true

  # 最大diff大小（字节），超过此大小会跳过详细解析
  # 默认1MB，超大文件会使用估算值
  max_diff_size: 1000000  # 1MB

# 项目路径配置（支持多种方式）
projects:
  # 方式1：指定具体的Git仓库
    - path: "F:/project"
      name: "my-repo"

  # # 方式2：指定一个目录，自动发现子目录中的所有Git仓库（推荐）
  # - path: "F:/project/lvtu-server"
  #   name: "lvtu-server"  # 名称仅用于显示
  #   # 系统会自动扫描该目录下的所有Git仓库（最多3层深度）

  # 方式3：混合使用
  # - path: "F:/project"
  #   name: "自动发现"
  # - path: "F:/other-specific-repo"
  #   name: "特定仓库"

# 报告年份
report_year: 2025

# 作者信息（用于筛选提交记录）
# 如果不配置或留空，则包含仓库的所有提交者
authors:
  # - "Your Name"
  # - "your.email@example.com"
  # 留空表示包含所有作者

# 输出目录
output_dir: "./reports"

# LLM配置（用于生成报告文案）
llm:
  provider: "openai"  # 可选: openai, anthropic, azure
  model: "claude-sonnet-4-5"
  api_key: "sk-not-needed"  # 本地服务可以填写任意值
  base_url: "http://localhost:8090"  # 本地LLM服务地址（使用localhost而不是0.0.0.0）
  timeout: 120  # LLM请求超时时间（秒），默认120秒
  max_retries: 1  # 失败重试次数，默认2次
  retry_delay: 5  # 重试延迟（秒），默认1秒

# 报告语言
language: "zh-CN"

# 主题配置
theme:
  primary_color: "#667eea"
  secondary_color: "#764ba2"
  accent_color: "#f093fb"
